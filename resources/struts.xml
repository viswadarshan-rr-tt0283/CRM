<?xml version="1.0" encoding="UTF-8"?>
        <!DOCTYPE struts PUBLIC
                "-//Apache Software Foundation//DTD Struts Configuration 2.5//EN"
                "http://struts.apache.org/dtds/struts-2.5.dtd">

<struts>
<constant name="struts.objectFactory" value="spring"/>
<constant name="struts.devMode" value="false"/>
<constant name="struts.action.extension" value="action"/>
    <constant name="struts.rest.enabled" value="false"/>
    <package name="json-api" extends="json-default" namespace="/">
    <global-results>
        <result name="error" type="json">
            <param name="includeProperties">errorMessage</param>
        </result>
    </global-results>

    <global-allowed-methods>execute,input,back,cancel</global-allowed-methods>

    <global-exception-mappings>
        <exception-mapping exception="java.lang.Exception" result="error"/>
    </global-exception-mappings>

    <action name="login" class="com.viswa.crm.action.LoginAction">
        <interceptor-ref name="json"/>
        <interceptor-ref name="defaultStack"/>

        <!-- Success JSON -->
        <result type="json">
            <!-- Only these props of the action are serialized -->
            <param name="includeProperties">responseData.*,errorMessage</param>
            <!-- Never serialize password -->
            <param name="excludeProperties">password</param>
            <param name="excludeNullProperties">true</param>
        </result>

        <!-- Error JSON -->
        <result name="error" type="json">
            <param name="includeProperties">errorMessage</param>
        </result>
    </action>
</package>

</struts>